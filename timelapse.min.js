!function(e,n,r){"undefined"!=typeof module&&module.exports?module.exports=r():"function"==typeof define&&define.amd?define(e,r):n[e]=r()}("timelapse",this,(function(){var e,n,r,t,a=Array.apply([],{length:256}).map((function(e,n){return 7-Math.max(0,Math.floor(Math.log2(n)))}));function o(){for(var r=e[n++],t=a[r],o=r&255>>t+1;t--;)o=256*o+e[n++];return o}return function(a,f,i){var u=new FileReader;u.onload=function(){for(e=new Uint8Array(this.result),n=r=0,t=0;n<e.byteLength;){var a=o(),u=o();switch(a){case 103:for(var d=Math.round(1e3/f*r);u--;)e[n++]=d>>8*u&255;t=0;break;case 35:case 33:d=Math.round(1e3/f*t);e[n+1]=d>>8,e[n+2]=255&d,n+=u,r++,t++;break;default:72057594037927940!=u&&32!=a&&(n+=u)}}i&&i(new Blob([e],{type:"video/webm"}))},a instanceof Array&&(a=new Blob(a,{type:"video/webm"})),u.readAsArrayBuffer(a)}}));